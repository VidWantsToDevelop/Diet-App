{%extends 'dietApp/layout.html'%}{%load static%} {%block title%} My
profile{%endblock%} {% block body %}
<div class="profile-body">
  <div class="profile-wrapper">
    <div class="profile-parts">
      <div class="parts-choice">
        <h3 id="button-history" style="margin-right: 1rem">History</h3>
        <h3 id="button-update" style="margin-left: 1rem">Update</h3>
      </div>
      <div class="parts-body">
        <div class="part-history">
          <div class="history-1">
            <h4>Choose your date</h4>
            <div class="dropdown">
              <button onclick="myFunction()" class="dropbtn">Dropdown</button>
              <div id="myDropdown" class="dropdown-content">
                <input
                  type="text"
                  placeholder="Search.."
                  id="myInput"
                  onkeyup="filterFunction()"
                />
                {% for date in dates %}
                <a class="button-date" id="{{ date.pk }}" href="#"
                  >{{date.date}}</a
                >
                {%empty%}
                <h3>Your list is empty</h3>
                {% endfor %}
              </div>
            </div>

            <script>
              function myFunction() {
                document.getElementById('myDropdown').classList.toggle('show')
              }

              function filterFunction() {
                var input, filter, ul, li, a, i
                input = document.getElementById('myInput')
                filter = input.value.toUpperCase()
                div = document.getElementById('myDropdown')
                a = div.getElementsByTagName('a')
                for (i = 0; i < a.length; i++) {
                  txtValue = a[i].textContent || a[i].innerText
                  if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    a[i].style.display = ''
                  } else {
                    a[i].style.display = 'none'
                  }
                }
              }
            </script>
          </div>
          <div class="history-2">
            <div class="history-body">
              <div class="history-body1">
                <h1>Statistics:</h1>
                <ul class="statistics">
                  <li class="statistics-consumed">
                    You have consumed:
                    <p>2780</p>
                    kcal
                  </li>
                  <li class="statistics-burnt">
                    You have burnt:
                    <p>830</p>
                    kcal
                  </li>
                  <li class="statistics-fats">
                    Amount of fats consumed:
                    <p>32</p>
                    %
                  </li>
                  <li class="statistics-carbs">
                    Amount of carbs consumed:
                    <p>50</p>
                    %
                  </li>
                  <li class="statistics-proteins">
                    Amount of proteins consumed:
                    <p>18</p>
                    %
                  </li>
                </ul>
              </div>
              <div class="history-body2">
                <h1>Charts:</h1>
                <div id="container" style="width: 75%">
                  <canvas id="pie-chart"></canvas>
                </div>

                <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
                <script>

                  var config = {
                    type: 'pie',
                    data: {
                      datasets: [{
                        data: {{ data|safe }},
                        backgroundColor: [
                          '#696969', '#808080', '#A9A9A9', '#C0C0C0', '#D3D3D3'
                        ],
                        label: 'Population'
                      }],
                      labels: {{ labels|safe }}
                    },
                    options: {
                      responsive: true
                    }
                  };

                  window.onload = function() {
                    var ctx = document.getElementById('pie-chart').getContext('2d');
                    window.myPie = new Chart(ctx, config);
                  };
                </script>
              </div>
            </div>
          </div>
        </div>
        <div class="part-update">
          <h1>UPUDATE</h1>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock body %}
